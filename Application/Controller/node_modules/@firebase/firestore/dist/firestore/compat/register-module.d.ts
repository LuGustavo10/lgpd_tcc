],this.logProviderFailure(f.dataSource),t(f.dataSource,u,e.getDataSourceState(0))},e.prototype.getMax=function(t,i){return i.customGetMax?i.customGetMax(t):n.RuntimeConfig.QfMode==5||t.scope!=n.Scope.All?t.queryToFetch?i.maxAfter8charsOrInL2ZeroInput*2:i.maxAfter8charsOrInL2ZeroInput:t.queryToFetch.length>8?i.maxAfter8charsOrInL2ZeroInput:t.queryToFetch.length>3?i.maxAfter3chars:i.maxUpTo3chars},e.prototype.toLocalResponse=function(i,r,u,f,e){var y,p,a,w,o,v;e&&(p=f,p.getGroupDisplayName&&(y=p.getGroupDisplayName(e)));var k={Counter:0},b=[],d=u.length<i;for(a=0,w=u;a<w.length;a++){var c=w[a],l=et(c,f),h=n.isApp(l)||n.isSetting(l)?ot(c):undefined;st(r,c,l,f.dataSource,k,h)||(o=void 0,o=f.customCreateLocalResponseSuggestion?f.customCreateLocalResponseSuggestion(c,l,f.dataSource):t(c,l,f.dataSource),y&&(o.groupDisplayName=y),h&&(o.ciMetaData=h,h.Query&&h.Query.includes(s)&&(v=h.Query.split(s),v.length==2&&(o.uxHint=v[1],o.ciMetaData.Query=v[0]))),b.push(o))}return{suggestions:b,maxedOut:d}},e.prototype.getResults=function(n,t,i,r){if(r.getResults)return r.getResults(i,t);var u=i,f=this.enableSpellCorrection(n);return u.getItemsAsyncWithSpeller?u.getItemsAsyncWithSpeller(0,t,f):i.getItemsAsync(0,t)},e.prototype.enableSpellCorrection=function(t){return t.queryToFetch.length>=n.config.enableCISpellerAtPrefixLength&&this._previousKeystrokeCache&&this._previousKeystrokeCache.enableCISpeller(t.queryToFetch)?!0:t.queryToFetch.length>=n.config.enableCISpellerAtPrefixLength&&n.config.enableCISpeller==1?!0:!1},e.prototype.searchFolderWithMultipleResults=function(t,i,r,f,o,s,h){var y=this,c=i.dataSource,p=this.getMax(t,i),l=!r,w,a,v;if(l){if(n.RuntimeConfig.QfMode==5&&(v=n.Host.getFileExplorerCurrentPath()),v&&!/^[a-zA-Z]\: